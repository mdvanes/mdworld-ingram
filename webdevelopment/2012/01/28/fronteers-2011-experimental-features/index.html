<!DOCTYPE html><!--[if lt IE 9]> <html class="lt-ie9" lang="en"> <![endif]--><!--[if IE 9]>    <html class="ie9" lang="en"> <![endif]--><!--[if gt IE 9]><!--><html xmlns=http://www.w3.org/1999/xhtml class=gt-ie9 lang=en><!--<![endif]--><head><!-- version 0.3.5 --><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=author content="mdworld 0.3.5"><title>Fronteers 2011: Experimental Features</title><link rel="shortcut icon" href=/mdworld-ingram/img/favicon.ico type=image/x-icon><link rel=stylesheet href=/mdworld-ingram/css/all.css></head><body><div class=site><nav class="navbar navbar-inverse navbar-fixed-top"><div><div class=container><div class=row><ul class="nav navbar-nav navbar-right"><li><a href=/mdworld-ingram/ ><span class="glyphicon glyphicon-home"></span> home</a></li><li><a href=/mdworld-ingram/#blog><span class="glyphicon glyphicon-pencil"></span> blog</a></li><li><a href=https://twitter.com/mdworldNL><span class=twitter></span> <span class=label-optional>@mdworldNL</span></a></li><li><a href=# data-toggle=modal data-target=#contactModal><span class="glyphicon glyphicon-envelope"></span> <span class=label-optional>contact</span></a></li></ul></div></div></div><header><h1 class="title post-title container">Fronteers 2011: Experimental Features</h1></header></nav><p class="meta container">28 Jan 2012</p><div class="post container"><div class=multi-column-text><p>This article discusses some experimental browser features from several talks at <a href=http://fronteers.nl/congres/2011>Fronteers 2011</a>. Since these are experimental features it doesn&#39;t work predictably across all browsers. Try Firefox 10+ or Chrome 17+ to see it the way I intended it to work.</p><style type=text/css>/*code
{
    background: none repeat scroll 0 0 #000000;
    color: #FF8100;
    display: inline;
    font-family: monospace;
}*/
.fronteers2011 fieldset {
        border: none;
        margin: 0;
        padding: 0;
}
div#canvasWrapper {
    background-color: #242424;
    position: fixed;
}
#rendererStatus {
    color: white;
    font-size: 200%;
    font-family: monospace;
}
#rendererStatus.webgl {
    background: green;
}
#rendererStatus.canvas {
    background: red;
}
#canvallaxbutton {
        background: #8db11f;
        border: 1px solid #fff;
        border-radius: 5px;
        color: #242424;
        margin-left: 200px;
}
#canvallaxbutton:hover {
        background: #242424;
        color: #fff;
}</style><p>Showing/hiding a box of content used to require JavaScript until the introduction of the :hover pseudo class in CSS (setting a block to visible/invisible on hover, in this case). Now Bruce Lawson introduces the new HTML5 element &lt;details&gt;, an HTML native way to toggle content. For the moment, it only works in Chrome.</p><details><summary>The summary for the &lt;details&gt; element. (Click the triangle)</summary><span>The code used is:<p></p><div class=highlight><pre><code class=language- data-lang="">&lt;details&gt;
    &lt;summary&gt;The summary for the &lt;details&gt; element...&lt;/summary&gt;
    &lt;span&gt;Droste effect prevention&lt;/span&gt;
&lt;/details&gt;
</code></pre></div><p>Browsers other than Chrome will simply show all the contents of the &lt;details&gt; element (and therefore this text) all the time.</p></span></details><p></p><p>More or less along the lines of the &lt;details&gt; element, Alex Russel advocates the concept of web components. While it doesn&#39;t introduce anything that can&#39;t be done with JavaScript, it offers a cleaner approach to modify the behavior of HTML elements. It is a suggestion for defining custom HTML elements, and although some browsers already support this in some way (remember <a href="http://msdn.microsoft.com/en-us/library/ms531079%28v=vs.85%29.aspx">Microsoft HTC files</a>?), the WHATWG is still working on a standard, which is still very much in progress.</p><p>Alex explains that the limited support for the extensibility of HTML elements causes cross-cutting concerns; sometimes you will even end up with a nearly empty HTML document, where everything, including DOM elements, are added dynamically with JavaScript. This is for instance the way Gmail and Google Documents work. One might argue whether or not this is a bad thing, if it works for Google, but from a theoretical standpoint, at least it is not pretty.</p><p>In an <a href=http://mdworld.nl/cms/content/mdegraph>earlier post</a> I&#39;ve introduced my <a href=https://bitbucket.org/mdvanes/mdegraph>graph JavaScript library</a>, which also dynamically inserts a small amount of HTML elements. In my case, that is needed to overlay two canvas elements, one containing the graph and one containing the labels, to prevent having to redraw the graph every time a label needs to be shown on hover. I suppose the extensibility as suggested in web components allows the creation of a single &lt;x-graph-canvas&gt; custom element, that inherits from the &lt;canvas&gt; element and adding the functionality I now add with JavaScript.</p><p>I must stress that I support his views that it is advisable to create custom HTML elements in certain cases, and I would love to show a demo here, but the spec is not supported in any browser yet. The details of the spec can be found on <a href=http://wiki.whatwg.org/wiki/Component_Model>the site of the WHATWG</a>.</p><p>Alex also introduces scoped CSS, a much debated subject because of the possible impact it&#39;s lack of backwards compatibility may entail, as is mentioned on it&#39;s demo page on <a href=http://html5doctor.com/the-scoped-attribute/ >html5doctor.com</a>. It would allow you to set CSS classes specific to only a part of the HTML document. For me this would be ideal, because I use Drupal<a href=#note>*</a> as my CMS, and for every post with <a href=/mdworld-ingram/webdevelopment/2011/12/03/fronteers-2011-css/ >crazy</a>/<a href=/mdworld-ingram/webdevelopment/2011/01/21/fronteers-2010-css/ >weird</a> styling I just include CSS in the top of the page, but this requires a lot of regression testing, and I am far too lazy to do that for my personal site.</p><p>Bruce Lawson also discusses the lack of semantic need for multiple levels of headings. The H1 through H6 elements were created to make a semantical hierarchy within the HTML document. By now however, it becomes apparent that this is not always as trivial as it was dreamt up to be. E.g. when syndicated content is injected into the document, which contains its own H1, it doesn&#39;t have the same meaning as the H1 in your document&#39;s header. And even within your own document, sometimes it isn&#39;t so clear when to use what level of heading. In the future, browsers are supposed to phase out this distinction and determine the hierarchy based on other clues from the document, but for now it is still advised to use H1 etc., because screenreaders and indexers will fail to figure out the hierarchy of your site, at this time.</p><p>Less experimental are the new form elements and attributes introduced by Robert Nyman, i.e. most new browsers already support them, one way or another. The <i>required</i> attribute on an input element within a form will prevent the form from submitting when the input doesn&#39;t contain characters, and the browser will show an error message:</p><form action=# class=fronteers2011><fieldset><input required> <input type=submit value="test required"></fieldset></form><p>The <i>pattern</i> attribute can be used to limit the input on a text field. On the following input element the regex &quot;\d{3}&quot; requires you to enter 3 digits.</p><form action=# class=fronteers2011><fieldset><input pattern=\d{3} x-moz-errormessage="You can only insert 3 digits!" placeholder="enter 3 digits" value=1> <input type=submit value="test validation"></fieldset></form><p></p><p>But an input <i>required</i> validation is considered satisfied when only spaces are input (which is not always what you want), when <i>required</i> is used on an e-mail address, <a href=http://en.wikipedia.org/wiki/Diacritic>diacritics</a> aren&#39;t allowed and when <i>pattern</i> is used, empty fields are valid. So guess what? UX is hard!</p><p>Unfortunately, this article is getting far too long as it is, so I&#39;m going to refer you to <a href=http://www.slideshare.net/robnyman/html5-forms-kiss-time-fronteers>Robert&#39;s slides</a> for more details.</p><p>In my humble opinion, the most spectacular example of an experimental feature currently possible in modern browsers would be rendering 3D objects in canvas. And sure enough, upon pressing the button below, in the background of this page you will find my pièce de résistance.</p><p><input type=button onclick="initCanvas(); canvallax.reset();" value="Start Demo" id=canvallaxbutton></p><p>I know, I&#39;m hardly a 3D artist, and it shows. But after weeks (yes, weeks) of playing around with lighting, collision, vertices, faces and whatnot, I thought it was about time to wrap it all up, and leave you this demo. This only proves 3D can be done in the browser, making something beautiful is possible <a href=http://mrdoob.github.com/three.js/examples/webgl_materials_normalmap2.html>if you&#39;re skilled in 3D</a>.</p><p>This demo uses the <a href=https://github.com/mrdoob/three.js>THREE.js</a> JavaScript library for creating 3D scenes in canvas. I find there are some lovely <a href=http://mrdoob.github.com/three.js/ >demos without documentation</a> and some good <a href=http://www.aerotwist.com/lab/getting-started-with-three-js/ >basic documentation without a demo</a>. So I tried to play around a bit to figure out the basics myself. Eventually, I used the cube in <a href=http://learningthreejs.com/blog/2011/08/06/lets-do-a-cube/ >this tutorial</a> as the base for this demo.</p><p>All the JavaScript to handle animating the contents of the background is included in a library I wrote specifically for this demo. It is called <a href=/mdworld-ingram/assets/fronteers2011/ef/canvallax.js>canvallax.js</a>, a contraction of canvas and parallax (since <a href=http://webdesignerwall.com/trends/mind-blowing-parallax-scrolling-sites>scrolling parallax backgrounds</a> are so hip right now). A similar project is the jQuery plugin <a href=https://github.com/cameronmcefee/plax>plax</a> (used on the <a href=https://github.com/404>github 404 page</a>). Although that doesn&#39;t use 3D objects, it&#39;s far more robust and flexible, making it actually fit for use.</p><p>When going into the details of the canvallax demo in the background, bear in mind that the foreground avatar, that moves around when you scroll and move the mouse, is &quot;handcrafted&quot;. With that I mean, it&#39;s not an export from a 3D studio, I just typed in the vectors and faces myself, to get a better grasp of the 3D space. The definition is dynamically loaded from <a href=/mdworld-ingram/assets/fronteers2011/ef/morgal.js>this json file</a> (<a href=http://creativecommons.org/licenses/by-nc-sa/3.0/ >license</a>).</p><p>The &quot;skyline&quot; layer is generated dynamically by a simple algorithm each page load. This algorithm draws a random path with some parameters and than extrudes this path to give it depth, a very simple way to make a 3D object.</p><p>The &quot;stars&quot; layer uses particle systems to render a large amount of (small) objects at once. I actually use two different approaches, because the <a href=http://aerotwist.com/lab/creating-particles-with-three-js/ >WebGL</a> and the <a href=http://creativejs.com/tutorials/three-js-part-1-make-a-star-field/ >default canvas</a> renderer approach are mutually exclusive. Particle systems can also be used to generate smoke or sparks, for example.</p><p>Unlike most demos you&#39;ll see, I have added an automated switch that tries the WebGL renderer first and if that fails (because the browser or the GPU doesn&#39;t support it) falls back to the default 3D canvas renderer. If that fails you&#39;re using IE :P But seriously, even an iPad with out-of-the-box Safari is capable of running this demo with the default 3D canvas renderer, albeit at a rather low FPS rate.</p><p>The difference between the two renderers, besides the aforementioned different particle system implementations, is that WebGL uses your GPU directly, mostly resulting in higher FPS rates, but also alleviating the CPU for other tasks (<a href=http://www.aerotwist.com/lab/getting-started-with-three-js/ >source</a>).</p><p>If the browser is running in WebGL, below a green box is displayed. If the default 3D canvas renderer is used, a red box will be displayed. If WebGL is supported, you can disable it by unchecking the &quot;Force enable WebGL&quot; box to see what it looks (and performs) like with the default renderer.</p><p><input type=checkbox id=webgl onclick="initCanvas(); canvallax.reset();" checked>Force enable WebGL</p><div><span id=rendererStatus></span></div><p>This 3D demo was inspired on the talk by Seb Lee-Delisle of <a href=http://creativejs.com>creativejs.com</a> fame.</p><p>NB: Before any of you comes to me complaining the HTML for this post is not valid, I know. I have seen 3 errors, one relating to the custom CSS for this post (I do not have the intention to update my main styles for each post), one relating to a stray &lt;/p&gt; (which I consider a validation bug), and one relating to an experimental Mozilla attribute. Other than that, let me know of any errors!</p><p id=note>*: This was on the old version of this blog.</p><script type=text/javascript src=/mdworld-ingram/assets/fronteers2011/ef/Three.js></script><script type=text/javascript src=/mdworld-ingram/assets/fronteers2011/ef/RequestAnimationFrame.js></script><script type=text/javascript src=/mdworld-ingram/assets/fronteers2011/ef/Detector.js></script><script type=text/javascript src=/mdworld-ingram/assets/fronteers2011/ef/canvallax.js></script><script>function initCanvas() {
 if( $("#canvasWrapper").length == 0 ) {
    canvallax.bootstrap();
    // Update variable containing the horizontal mouse position that is accessable from the animation function
    $(window).mousemove( function(event){
        canvallax.mouseX = canvallax.getMouseX(event);
    }).click( function(event){
        canvallax.mouseX = canvallax.getMouseX(event);
    });
  }
}</script></div></div><div class="modal fade modal-terminal" id=contactModal tabindex=-1 role=dialog aria-labelledby=contactModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title id=myModalLabel>contact@mdworld</h4></div><div class=modal-body><form role=form id=contactForm><div class=form-group><label for=contactName>Name</label><input class=form-control id=contactName placeholder="Enter name" name=name required maxlength=1024></div><div class=form-group><label for=contactEmail>Email address</label><input type=email class=form-control id=contactEmail placeholder="Enter email" name=email required maxlength=1024></div><div class=form-group><label for=contactMessage>Message</label><textarea class=form-control id=contactMessage placeholder=Message name=message required maxlength=4096></textarea></div><button type=button class="btn btn-primary submit-contact">Submit</button></form></div></div></div></div><footer><div class="content container"><div class="row projects"><div class="col-xs-12 col-xl-4 col-xl-offset-2"><h2>Open Source by MDWorld</h2></div></div><div class="row projects"><div class="col-xs-12 col-sm-6 col-xl-4 col-xl-offset-2"><div class=media-wrapper><a class=media href=https://github.com/mdvanes/polygram><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>polygram</h4>Polymer and Redux App</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/mdworld-pwa-demo><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>mdworld-pwa-demo</h4>Progressive Web App demo</div></a></div><div class=media-wrapper><a class=media href=https://bitbucket.org/mdvanes/homeremote><span class="pull-left icon bitbucket"></span><div class=media-body><h4 class=media-heading>HomeRemote</h4>ES6 React and Node Home automation tool</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/generator-mdworld-toolchain><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>generator-mdworld-toolchain</h4>Yeoman generator to set up the mdworld toolchain</div></a></div><div class=media-wrapper><a class=media href=http://mdvanes.github.io/ImpossibleObjects/ ><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>ImpossibleObjects</h4>A selection of impossible objects using Canvas</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/grunt-kot2html><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>grunt-kot2html</h4>Grunt task to combine Knockout templates into one HTML</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/grunt-kot2js><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>grunt-kot2js</h4>Grunt task to convert Knockout templates to a JavaScript file</div></a></div></div><div class="col-xs-12 col-sm-6 col-xl-4"><div class=media-wrapper><a class=media href=https://github.com/mdvanes/mdworld-stox><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>mdworld-stox</h4>Websockets in Node.js demo</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/SynergyChrome><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>SynergyChrome</h4>Use Synergy in Chrome</div></a></div><div class=media-wrapper><a class=media href=https://github.com/mdvanes/Movienight><span class="pull-left icon github"></span><div class=media-body><h4 class=media-heading>Movienight</h4>PoC for hybrid app with Ionic Framework</div></a></div><div class=media-wrapper><a class=media href=https://bitbucket.org/mdvanes/mderekelbox><span class="pull-left icon bitbucket"></span><div class=media-body><h4 class=media-heading>Rekelbox</h4>Arduino VU meter</div></a></div><div class=media-wrapper><a class=media href=https://bitbucket.org/mdvanes/mdepolska><span class="pull-left icon bitbucket"></span><div class=media-body><h4 class=media-heading>MDE Polska</h4>Polish keyboard Drupal module</div></a></div><div class=media-wrapper><a class=media href=https://bitbucket.org/mdvanes/mdegraph><span class="pull-left icon bitbucket"></span><div class=media-body><h4 class=media-heading>MDE Graph</h4>Javascript Graph PoC</div></a></div><div class=media-wrapper><a class=media href=https://bitbucket.org/mdvanes/mdeinsignificant><span class="pull-left icon bitbucket"></span><div class=media-body><h4 class=media-heading>Insignificant!</h4>loltext generator Drupal module</div></a></div></div></div><div class=row><h1 class=dedication>an MDWorld production</h1><p><a class=cc href=http://creativecommons.org/licenses/by-nc-sa/3.0/ title="Creative Commons">CC</a> 2003-2018</p></div></div></footer></div><!-- .site --><script src=/mdworld-ingram/js/scripts.js></script><!-- Run init for demo after loading jquery --><script>if(typeof(demoInit) === 'function') {
                demoInit();
            }</script></body></html>